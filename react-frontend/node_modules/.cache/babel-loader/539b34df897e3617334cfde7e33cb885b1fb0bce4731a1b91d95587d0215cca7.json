{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/User/Downloads/MapleHacks/react-frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/User/Downloads/MapleHacks/react-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/User/Downloads/MapleHacks/react-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function UserSearch(_ref){var state=_ref.state;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),userInput=_useState2[0],setUserInput=_useState2[1];function userType(e){e.preventDefault();setUserInput(e.target.value);};var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),gptText=_useState4[0],setGPTText=_useState4[1];function callgpt(_x){return _callgpt.apply(this,arguments);}function _callgpt(){_callgpt=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(input){var _require,Configuration,OpenAIApi,configuration,openai,msg,completion,response,response1,response2,response3,response4,response5;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_require=require(\"openai\"),Configuration=_require.Configuration,OpenAIApi=_require.OpenAIApi;configuration=new Configuration({apiKey:process.env.REACT_APP_API_KEY});openai=new OpenAIApi(configuration);msg=input;document.getElementById('k').innerHTML=\"<h1 id = 'free'></h1>\";_context.next=7;return openai.createChatCompletion({model:\"gpt-3.5-turbo\",messages:[{role:\"user\",content:msg}]});case 7:completion=_context.sent;response=completion.data.choices[0].message.content+\"HIHI\";console.log(response);response1=response.replace(/\\n/g,\"<br>\");response2=response1.replace(\"Ingredients:\",\"<div class='row' style={{marginBottom:'-50px'}}><div class='col-lg-4'><h2 id='IngredientsTitle'><strong>Ingredients:</strong></h2><h4 id='Ingredients'>\");response3=response2.replace(\"Instructions:\",\"</div><div class='col-lg-8'></h4><h2 id='IntructionsTitle'><strong>Instructions:</strong></h2><h4 id='Instructions'>\");response4=response3.replace(\"Directions:\",\"</div><div class='col-lg-8'></h4><h2 id='DirectionsTitle'><strong>Directions:</strong></h2><h4 id='Directions'>\");response5=response4.replace(\"HIHI\",\"</h4></div></div>\");document.getElementById('k').innerHTML=response5;case 16:case\"end\":return _context.stop();}},_callee);}));return _callgpt.apply(this,arguments);};function userEnter(e){e.preventDefault();callgpt(\"Give me a recipe in \"+state+\" with \"+userInput);}return/*#__PURE__*/_jsxs(\"div\",{id:\"searchContainer\",children:[/*#__PURE__*/_jsx(\"div\",{id:\"titleSection\",children:/*#__PURE__*/_jsx(\"h1\",{id:\"searchTitle\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"RECIPES\"})})}),/*#__PURE__*/_jsxs(\"form\",{id:\"restSection\",onSubmit:userEnter,children:[/*#__PURE__*/_jsx(\"input\",{onChange:userType,id:\"input\",className:\"form-control me-2 d-flex clear\",type:\"search\",placeholder:\"Enter Keywords Here\",\"aria-label\":\"Search\"}),/*#__PURE__*/_jsx(\"button\",{id:\"inputButton\",className:\"btn btn-outline-success\",type:\"submit\",onClick:userEnter,children:\"\\uD83D\\uDD0E\\uFE0E\"})]}),/*#__PURE__*/_jsx(\"div\",{id:\"k\",style:{overflowWrap:\"break-word\",maxWidth:\"100%\"}})]});}","map":{"version":3,"names":["React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","UserSearch","_ref","state","_useState","_useState2","_slicedToArray","userInput","setUserInput","userType","e","preventDefault","target","value","_useState3","_useState4","gptText","setGPTText","callgpt","_x","_callgpt","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","input","_require","Configuration","OpenAIApi","configuration","openai","msg","completion","response","response1","response2","response3","response4","response5","wrap","_callee$","_context","prev","next","require","apiKey","process","env","REACT_APP_API_KEY","document","getElementById","innerHTML","createChatCompletion","model","messages","role","content","sent","data","choices","message","console","log","replace","stop","userEnter","id","children","onSubmit","onChange","className","type","placeholder","onClick","style","overflowWrap","maxWidth"],"sources":["C:/Users/User/Downloads/MapleHacks/react-frontend/src/search.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\n\r\nexport default function UserSearch({state}){\r\n    const [userInput, setUserInput] = useState(\"\");\r\n    function userType(e){\r\n        e.preventDefault();\r\n        setUserInput(e.target.value);\r\n    };\r\n    const [gptText, setGPTText] = useState(\"\");\r\n    async function callgpt(input){\r\n        const { Configuration, OpenAIApi } = require(\"openai\");\r\n        \r\n        const configuration = new Configuration({\r\n          apiKey: process.env.REACT_APP_API_KEY,\r\n        });\r\n        const openai = new OpenAIApi(configuration);\r\n         \r\n        const msg = input;\r\n        \r\n        document.getElementById('k').innerHTML = (\"<h1 id = 'free'></h1>\")\r\n\r\n        const completion = await openai.createChatCompletion({\r\n        model: \"gpt-3.5-turbo\",\r\n        messages: [{role: \"user\", content: msg}],\r\n        });\r\n      \r\n        const response = completion.data.choices[0].message.content+\"HIHI\";\r\n        console.log(response);\r\n        let response1 = response.replace(/\\n/g,\"<br>\");\r\n        let response2 = response1.replace(\"Ingredients:\",\"<div class='row' style={{marginBottom:'-50px'}}><div class='col-lg-4'><h2 id='IngredientsTitle'><strong>Ingredients:</strong></h2><h4 id='Ingredients'>\");\r\n        let response3 = response2.replace(\"Instructions:\",\"</div><div class='col-lg-8'></h4><h2 id='IntructionsTitle'><strong>Instructions:</strong></h2><h4 id='Instructions'>\")\r\n        let response4 = response3.replace(\"Directions:\",\"</div><div class='col-lg-8'></h4><h2 id='DirectionsTitle'><strong>Directions:</strong></h2><h4 id='Directions'>\")\r\n        \r\n        let response5 = response4.replace(\"HIHI\",\"</h4></div></div>\")\r\n        document.getElementById('k').innerHTML = (response5);\r\n    };\r\n    \r\n    function userEnter(e){\r\n        e.preventDefault();\r\n        callgpt(\"Give me a recipe in \"+state+\" with \"+userInput);\r\n\r\n    }\r\n    \r\n    return(\r\n        <div id=\"searchContainer\">\r\n            <div id=\"titleSection\">\r\n                <h1 id=\"searchTitle\"><strong>RECIPES</strong></h1>\r\n            </div>\r\n            <form id=\"restSection\" onSubmit={userEnter}>\r\n                <input onChange={userType} id=\"input\" className=\"form-control me-2 d-flex clear\" type=\"search\" placeholder=\"Enter Keywords Here\" aria-label=\"Search\"></input>\r\n                <button id=\"inputButton\" className=\"btn btn-outline-success\" type=\"submit\" onClick={userEnter}>ðŸ”Žï¸Ž</button>\r\n            </form>\r\n            <div id=\"k\" style={{ overflowWrap: \"break-word\", maxWidth: \"100%\" }}></div>\r\n            \r\n        </div>\r\n    );\r\n\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}